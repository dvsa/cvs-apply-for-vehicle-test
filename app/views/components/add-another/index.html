{% extends "layouts/base.html" %}

{% block body %}

  <div class="govuk-grid-row">

    <div class="govuk-grid-column-one-half">

      {{ govukBackLink({
        text: "Back",
        href: "../"
      }) }}

      <div class="moj-add-another">

        <h1 class="govuk-heading-xl">
          <span class="govuk-caption-xl">Components</span> Add another
        </h1>

        <h2 class="govuk-heading-l moj-add-another__heading" tabindex="-1">Add a person</h1>

        <form method="post" action="#">

          {% call govukFieldset({
            classes: 'moj-add-another__item',
            legend: {
              text: 'Person',
              classes: 'moj-add-another__title govuk-fieldset__legend--m',
              isPageHeading: false
            }
          }) %}

          {{ govukInput({
            id: 'person[0][first_name]',
            name: 'person[0][first_name]',
            label: {
              html: 'First name',
              classes: 'govuk-!-font-weight-bold'
            },
            attributes: {
              'data-name': 'person[%index%][first_name]',
              'data-id': 'person[%index%][first_name]'
            }
          }) }}

          {{ govukInput({
            id: 'person[0][last_name]',
            name: 'person[0][last_name]',
            label: {
              html: 'Last name',
              classes: 'govuk-!-font-weight-bold'
            },
            attributes: {
              'data-name': 'person[%index%][last_name]',
              'data-id': 'person[%index%][last_name]'
            }
          }) }}

          {{ govukDateInput({
            id: "date-of-birth",
            fieldset: {
              legend: {
                text: "Date of birth",
                classes: "govuk-fieldset__legend--s"
              }
            },
            hint: {
              text: "For example, 31 3 1980"
            },
            items: [
              {
                id: "person[0][dob][day]",
                name: "person[0][dob][day]",
                label: "day",
                classes: "govuk-input--width-2",
                attributes: {
                  'data-name': 'person[%index%][dob][day]',
                  'data-id': 'person[%index%][dob][day]'
                }
              },
              {
                id: "person[0][dob][month]",
                name: "person[0][dob][month]",
                label: "month",
                classes: "govuk-input--width-2",
                attributes: {
                  'data-name': 'person[%index%][dob][month]',
                  'data-id': 'person[%index%][dob][month]'
                }
              },
              {
                id: "person[0][dob][year]",
                name: "person[0][dob][year]",
                label: "year",
                classes: "govuk-input--width-2",
                attributes: {
                  'data-name': 'person[%index%][dob][year]',
                  'data-id': 'person[%index%][dob][year]'
                }
              }
            ]
          }) }}

          {% endcall %}

          {{ govukButton({
            text: 'Add another person',
            classes: 'govuk-button--secondary moj-add-another__add-button govuk-!-margin-bottom-4'
          }) }}

          {{ govukButton({
            text: 'Submit',
            classes: 'govuk-link'
          }) }}

        </form>

      </div>

    </div>

  </div>

{% endblock %}

{% block pageScripts %}

  <script>
    new MOJFrontend.AddAnother($('.moj-add-another'));
  </script>

{% endblock %}
