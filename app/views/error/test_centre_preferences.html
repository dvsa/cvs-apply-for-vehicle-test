{% extends "layout.html" %}

{% block pageTitle %}
  Error: Test centre preferences - Apply for a vehicle test
{% endblock %}

{% block beforeContent %}
  <div class="govuk-phase-banner">
    <p class="govuk-phase-banner__content">
      <strong class="govuk-tag govuk-phase-banner__content__tag">
        alpha
      </strong>
      <span class="govuk-phase-banner__text">
        This is a new service â€“ your <a class="govuk-link" href="#">feedback</a> will help us to improve it.
      </span>
    </p>
  </div>

  <a class="govuk-back-link" href="#">Back</a>
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="govuk-error-summary">
        <h2 class="govuk-error-summary__title" id="error-summary-title">
          There is a problem
        </h2>
        <div class="govuk-error-summary__body">
          <ul class="govuk-list govuk-error-summary__list">
            <li>
              <a href="#test-centre-error">Enter your preferred test location</a>
            </li>
          </ul>
        </div>
      </div>

      <span class="govuk-caption-xl">Vehicle 1 of 1 - {{ data['1-select-a-test-type'] }}</span>
      <h1 class="govuk-heading-xl">Test centre preferences</h1>

      <form class="form" action="#" method="post">

        <div class="govuk-form-group">
          <div class="govuk-inset-text">
            Use the <a class="govuk-link" href="https://www.google.com/maps/d/viewer?mid=1O2NqPWbUf4qmRLfQl2nHitGrwBzc-g6f" target="_blank">vehicle approval and specialist test locations</a> service to locate your preferred test location. An alternate test location is not required but is useful if your preferred test location is unavailable.
          </div>
          
          <div class="govuk-form-group govuk-form-group--error">
            <label class="govuk-label" for="input-autocomplete">Preferred test location</label>
            <span class="govuk-error-message">
              <span class="govuk-visually-hidden" id="test-centre-error">Error:</span> Enter your preferred test location
            </span>
            <div class="govuk-body govuk-!-width-two-thirds" id="input-autocomplete-container-pre"></div>
          </div>

          <label class="govuk-label" for="input-autocomplete">Alternate test location (optional)</label>
          <div class="govuk-body govuk-!-width-two-thirds" id="input-autocomplete-container-alt"></div>

          <script type="text/javascript" src="/public/javascripts/accessible-autocomplete.min.js"></script>
          <script type="text/javascript">
            const testCentres = [
              'Aberdeen, Scotland',
              'Edinburgh, Scotland',
              'Kilmarnock, Scotland',
              'Newcastle, Northumberland',
              'Carlisle, Cumbria',
              'Beverley, East Riding of Yorkshire',
              'Darwen, Lancashire (POTF)',
              'Chadderton, Manchester',
              'Doncaster, South Yorkshire',
              'Sheffield, South Yorkshire (POTF)',
              'Nottingham, Nottinghamshire',
              'Derby, Derbyshire',
              'Norwich, Norfolk',
              'Peterborough, Cambridgeshire (POTF)',
              'Birmingham, West Midlands (POTF)',
              'Halesowen, West Midlands (POTF)',
              'Kidderminster, Worcestershire',
              'Leighton Buzzard, Bedfordshire',
              'Bicester, Oxfordshire (POTF)',
              'Chelmsford, Essex',
              'Yeading, London',
              'Cardiff, Wales',
              'Bristol, Gloucestershire',
              'Purfleet, Essex (POTF)',
              'Gillingham, Kent',
              'Andover, Hampshire (POTF)',
              'Salisbury, Wiltshire',
              'Northam, Southampton',
              'Bournemouth, Dorset',
              'Exeter, Devon'
            ];

            accessibleAutocomplete({
              element: document.querySelector('#input-autocomplete-container-pre'),
              id: 'test-centre',
              source: testCentres,
              placeholder: 'Start typing',
              minLength: 2,
              displayMenu: 'overlay'
            });

            accessibleAutocomplete({
              element: document.querySelector('#input-autocomplete-container-alt'),
              id: 'test-centre',
              source: testCentres,
              placeholder: 'Start typing',
              minLength: 2,
              displayMenu: 'overlay'
            });
          </script>
        </div>

        <button class="govuk-button" data-module="govuk-button">Continue</button>

      </form>

    </div>
  </div>

{% endblock %}